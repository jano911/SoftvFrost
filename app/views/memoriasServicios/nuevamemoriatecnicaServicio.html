<style type="text/css">
  .scrollDiv {
    height: 500px;
    overflow: auto;
    overflow-x: hidden;
  }


  .fileUpload {
    position: relative;
    overflow: hidden;
    margin: 10px;
  }

  .fileUpload input.upload {
    position: absolute;
    top: 0;
    right: 0;
    margin: 0;
    padding: 0;
    font-size: 20px;
    cursor: pointer;
    opacity: 0;
    filter: alpha(opacity=0);
  }

  .form-group>label,
  .form-group .control-label {
    font-size: 12px !important;
    opacity: 0.9;
    margin-bottom: 0 !important;
  }


  .my-drop-zone {
    border: dotted 3px lightgray;
  }

  .nv-file-over {
    border: dotted 3px red;
  }

  /* Default class applied to drop zones on over */

  .another-file-over-class {
    border: dotted 3px green;
  }

  html,
  body {
    height: 100%;
  }

  canvas {
    background-color: #f3f3f3;
    -webkit-box-shadow: 3px 3px 3px 0 #e3e3e3;
    -moz-box-shadow: 3px 3px 3px 0 #e3e3e3;
    box-shadow: 3px 3px 3px 0 #e3e3e3;
    border: 1px solid #c3c3c3;
    height: 100px;
    margin: 6px 0 0 6px;
  }

  .nav-tabs>li>a {
    margin-right: 2px;
    line-height: 1.846153846;
    border: none;
    border-bottom: 2px solid transparent;
    border-radius: none;
    opacity: 0.9;
    font-weight: 500;
    font-size: 11px;
    text-transform: uppercase;
  }
</style>
<form angular-validator-submit="$ctrl.guardar()" name="myForm" class="form-horizontal" novalidate angular-validator>

  <div class="card animated fadeIn" style="margin-top:20px;">
    <div class="card-head style-default-light" style="padding-top:10px; padding-left:10px;">
      <header>
        <strong style="font-weight:bold; border:none; margin-left:10px;">{{$ctrl.titulo}}</strong>
        <br />
        <small class="text-muted" style="font-size:14px; margin-left:10px;">
          <a href="#">
            <i class="fa fa-home" aria-hidden="true"></i> Inicio</a>>
          <a href="#" class="paginaActiva">Memoria Técnica Reportes</a>
        </small>
      </header>
      <div class="tools">
        <div class="btn-group">
          <button class="btn btn-primary btn-sm" ng-show="$ctrl.showguardar" title="Crear una nueva memoria técnica"
            type="submit">
            Guardar</button>
          <button title="Eliminar Memoria Técnica" type="button" class="btn btn-danger btn-sm"
            ng-show="$ctrl.showeliminar" name="button" ng-click="$ctrl.EliminaMemoria()">Eliminar</button>
          <button title="Regresar a atenciones telefónicas" type="button"
            ui-sref="home.memoria.memoriastecnicasServicio" class="btn btn-default-bright btn-sm"
            name="button">Salir</button>
        </div>
      </div>
    </div>
    <fieldset ng-disabled="$ctrl.detalle">
      <div class="card-body">

        <div class="row">
          <div class="col-md-5">
            <p>
              <b class="text-center text-primary"> Información principal</b>
            </p>
            <div class="form-group row ">
              <label class="col-sm-3 control-label"># Reporte</label>
              <div class="col-sm-4">
                <input type="number" class="form-control input-sm" name="numeroqueja" ng-disabled="$ctrl.blockorden"
                  ng-model="$ctrl.numeroqueja" validate-on="dirty"
                  invalid-message="'El número de la orden es obligatorio'" placeholder="Ingresa #Reporte" required />
              </div>
              <div class="col-sm-3">
                <button type="button" ng-disabled="$ctrl.blockorden" class="btn ink-reaction btn-xs btn-info"
                  ng-click="$ctrl.validar()">Validar</button>
              </div>
            </div>

            <div class="form-group row ">
              <label class="col-sm-3 control-label">Folio instalación</label>
              <div class="col-sm-4">
                <input type="text" class="form-control input-sm" ng-disabled="true" name="numerofolio"
                  placeholder="Ingresa # folio" ng-model="$ctrl.numerofolio" />
              </div>
              <div class="col-sm-3" ng-if="$ctrl.permitecheck">
                <label class="checkbox-inline checkbox-styled checkbox-info">
                  <input type="checkbox" ng-model="$ctrl.generafolio" name="generafolio"
                    ng-disabled="$ctrl.blockgenerafolio" ng-change="$ctrl.obtenfolio()">
                  <span>{{$ctrl.mensajefolio}}</span>
                </label>
              </div>


            </div>
            <div class="form-group row ">
              <label class="col-sm-3 control-label">Contrato</label>
              <div class="col-sm-4">
                <input type="text" class="form-control input-sm" ng-disabled="$ctrl.blockcontrato" name="contrato"
                  ng-model="$ctrl.contratocompania" validate-on="dirty"
                  invalid-message="'El número de la orden es obligatorio'" name="password" placeholder="" required />
              </div>
              <div class="col-sm-3">
                <label class="checkbox-inline checkbox-styled checkbox-info">
                  <input type="checkbox" ng-model="$ctrl.Combo" name="escombo" ng-disabled="true">
                  <span>Es combo</span>
                </label>
              </div>
            </div>


          </div>
          <div class="col-md-7">

            <p>
              <b class="text-center text-primary"> Datos de la empresa</b>
            </p>

            <div class="col-md-6">

              <div class="form-group row ">
                <label class="col-sm-5 control-label">Distribuidor</label>
                <div class="col-sm-7">
                  <input type="text" class="form-control input-sm" ng-disabled="true" ng-model="$ctrl.distribuidor"
                    name="distribuidor" validate-on="dirty" invalid-message="'El distribuidor es obligatorio'"
                    placeholder="" required />
                </div>
              </div>

            </div>

            <div class="col-md-6">
              <div class="form-group row ">
                <label class="col-sm-5 control-label">Fecha visita de sitio</label>
                <div class="col-sm-7">
                  <input type="text" class="form-control input-sm" name="fechasitio" ng-model="$ctrl.fechasitio"
                    placeholder="DD/MM/YYYY" model-view-value="true" ui-mask="99/99/9999" validate-on="dirty"
                    ng-disabled="true" invalid-message="'La fecha es obligatoria'" placeholder="Ingresa #orden" />
                </div>
              </div>

            </div>


            <div class="col-md-6">
              <div class="form-group row ">
                <label class="col-sm-5 control-label">Hora de llegada</label>
                <div class="col-sm-7">
                  <input type="text" placeholder="hh:mm" ui-mask="99:99" model-view-value="true"
                    class="form-control input-sm" name="horallegada" ng-model="$ctrl.horallegada" validate-on="dirty"
                    invalid-message="'La hora es obligatoria'" placeholder="" required />
                </div>

              </div>

            </div>

            <div class="col-md-6">
              <div class="form-group row ">
                <label class="col-sm-5 control-label">Hora de salida</label>
                <div class="col-sm-7">
                  <input type="text" class="form-control input-sm" model-view-value="true" name="horasalida"
                    placeholder="hh:mm" ui-mask="99:99" ng-model="$ctrl.horasalida" validate-on="dirty"
                    invalid-message="'La hora es obligatoria'" placeholder="" required />
                </div>
              </div>
            </div>

            <div class="col-md-12">
              <div class="form-group row ">
                <label class="col-sm-5 control-label">Usuario</label>
                <div class="col-sm-7">
                  <input type="text" ng-disabled="true" name="usuario" class="form-control input-sm"
                    ng-model="$ctrl.usuariosistema">
                </div>
              </div>
            </div>

            <div class="col-md-12">
              <div class="form-group row ">
                <label class="col-sm-5 control-label">Nombre de Instalador</label>
                <div class="col-sm-7">
                  <select ng-options="item as item.Nombre for item in $ctrl.listTecnicos track by item.IdEntidad"
                    class="form-control input-sm" ng-model="$ctrl.instalador" name="nombreinstalador"
                    validate-on="dirty" invalid-message="'El nombre es obligatorio'" required>
                    <option value="">Selecciona</option>
                  </select>
                </div>
              </div>
            </div>

          </div>

        </div>


        <div class="col-md-12  col-sm-12 col-lg-12">
          <uib-tabset active="activeJustified" justified="false">
            <uib-tab index="0" heading="Datos del sitio">
              <br>
              <div class="row">

                <div class="col-md-4">
                  <div class="form-group row ">
                    <label class="col-sm-5 control-label">Cliente</label>
                    <div class="col-sm-7">
                      <input type="text" class="form-control input-sm" ng-disabled="true" name="cliente"
                        ng-model="$ctrl.cliente">
                    </div>
                  </div>

                  <div class="form-group row ">
                    <label class="col-sm-5 control-label">Direccion</label>
                    <div class="col-sm-7">
                      <textarea type="text" class="form-control input-sm" ng-disabled="true" ng-model="$ctrl.direccion"
                        name="direccion" rows="3">



                      </textarea>
                    </div>
                  </div>
                  <div class="form-group row ">
                    <label class="col-sm-5 control-label">C.P</label>
                    <div class="col-sm-7">
                      <input type="text" class="form-control input-sm" ng-disabled="true" name="codigopostal"
                        ng-model="$ctrl.codigopostal">
                    </div>
                  </div>
                  <div class="form-group row ">
                    <label class="col-sm-5 control-label">Teléfono</label>
                    <div class="col-sm-7">
                      <input type="text" class="form-control input-sm" ng-disabled="true" name="telefono"
                        ng-model="$ctrl.telefono">
                    </div>
                  </div>

                  <div class="form-group row ">
                    <label class="col-sm-5 control-label">Celular</label>
                    <div class="col-sm-7">
                      <input type="text" class="form-control input-sm" ng-disabled="true" name="celular"
                        ng-model="$ctrl.celular">
                    </div>
                  </div>
                  <div class="form-group row ">
                    <label class="col-sm-5 control-label">Domicilio de notificación</label>
                    <div class="col-sm-7">
                      <textarea type="text" class="form-control input-sm" name="notificacion"
                        ng-model="$ctrl.domicilionotificacion" rows="3"></textarea>
                    </div>
                  </div>
                  <div class="form-group row ">
                    <b class="col-sm-12 text-center text-info"> Datos de la persona que atiende al técnico en sitio</b>
                  </div>
                  <div class="form-group row ">
                    <label class="col-sm-5 control-label">Nombre de la Persona</label>
                    <div class="col-sm-7">
                      <input type="text" class="form-control input-sm" name="NombreAtiendeSitio"
                        ng-model="$ctrl.PersonaAtiendeSitio">
                    </div>
                  </div>

                  <div class="form-group row ">
                    <label class="col-sm-5 control-label">Teléfono (Para llamada de Whatsapp)</label>
                    <div class="col-sm-7">
                      <input type="text" class="form-control input-sm" name="TelefonoAtiendeSitio"
                        ng-model="$ctrl.TelefonoAtiendeSitio" ui-mask="999-999-9999" minlength="10" ui-mask-placeholder
                        ui-mask-placeholder-char="_">
                    </div>
                  </div>

                  <div class="form-group row ">
                    <label class="col-sm-5 control-label">Celular</label>
                    <div class="col-sm-7">
                      <input type="text" class="form-control input-sm" name="CelularAtiendeSitio"
                        ng-model="$ctrl.CelularAtiendeSitio" ui-mask="999-999-9999" minlength="10" ui-mask-placeholder
                        ui-mask-placeholder-char="_">
                    </div>
                  </div>

                  <div class="form-group row ">
                    <label class="col-sm-5 control-label">Email</label>
                    <div class="col-sm-7">
                      <input type="email" class="form-control input-sm" name="EmailAtiendeSitio"
                        ng-model="$ctrl.EmailAtiendeSitio" validate-on="dirty"
                        invalid-message="'Formato de correo no valido.'">
                    </div>
                  </div>
                  <!-- <div class="form-group row ">
                    <label class="col-sm-5 control-label">site ID</label>
                    <div class="col-sm-7">
                      <input type="text" class="form-control input-sm" name="siteid" placeholder="" ng-model="$ctrl.siteid" />
                    </div>
                  </div>-->
                </div>
                <div class="col-md-4">

                  <div class="form-group row ">
                    <label class="col-sm-5 control-label">Localidad</label>
                    <div class="col-sm-7">
                      <input type="text" class="form-control input-sm" ng-disabled="true" name="localidad"
                        ng-model="$ctrl.localidad" placeholder="" />
                    </div>
                  </div>

                  <div class="form-group row ">
                    <label class="col-sm-5 control-label">Municipio</label>
                    <div class="col-sm-7">
                      <input type="text" class="form-control input-sm" name="municipio" ng-disabled="true"
                        ng-model="$ctrl.municipio" placeholder="" />
                    </div>
                  </div>

                  <div class="form-group row ">
                    <label class="col-sm-5 control-label">Estado</label>
                    <div class="col-sm-7">
                      <input type="text" class="form-control input-sm" ng-disabled="true" name="estado"
                        ng-model="$ctrl.estado" placeholder="" />
                    </div>
                  </div>

                  <div class="form-group row ">
                    <label class="col-sm-5 control-label">Nombre persona que valida el servicio:</label>
                    <div class="col-sm-7">
                      <input type="text" class="form-control input-sm" name="nombrevalida"
                        ng-model="$ctrl.PersonaValidaServicio">
                    </div>
                  </div>

                  <div class="form-group row ">
                    <label class="col-sm-5 control-label">Recibe en sitio:</label>
                    <div class="col-sm-7">
                      <input type="text" class="form-control input-sm" name="recibe" ng-model="$ctrl.recibe">
                    </div>
                  </div>

                  <div class="form-group row ">
                    <label class="col-sm-5 control-label"> Estatus Técnico del Modem:</label>
                    <div class="col-sm-7">
                      <select invalid-message="'El campo es obligatorio'" required
                        ng-options="item as item.Descripcion for item in $ctrl.listEstatus track by item.IdEstatusTecnico"
                        class="form-control input-sm" name="estatustecnico" ng-model="$ctrl.estatustecnico">
                        <option value="">selecciona</option>
                      </select>
                    </div>
                  </div>

                  <!--     <div class="form-group row ">
                    <label class="col-sm-5 control-label">Tipo de servicio:</label>
                    <div class="col-sm-7">


                      <select ng-options="item as item.Descripcion for item in $ctrl.listTiposerv track by item.IdTipoServicio" class="form-control input-sm"
                        ng-model="$ctrl.tiposervicio" name="tiposervicio" validate-on="dirty" invalid-message="'El nombre es obligatorio'"
                        required>
                        <option value="" disabled>Selecciona</option>
                      </select>


                    </div>
                  </div> -->

                  <div class="form-group row ">
                    <label class="col-sm-5 control-label">Plan de servicio:</label>
                    <div class="col-sm-7">
                      <input type="text" class="form-control input-sm" name="plan" ng-disabled="true"
                        ng-model="$ctrl.plan">
                    </div>
                  </div>

                  <div class="form-group row ">
                    <b class="col-sm-12 text-center text-info"> Datos de la persona que atiende al técnico en sitio #2
                      (Opcional)</b>
                  </div>
                  <div class="form-group row ">
                    <label class="col-sm-5 control-label">Nombre de la Persona</label>
                    <div class="col-sm-7">
                      <input type="text" class="form-control input-sm" name="NombreAtiendeSitio2"
                        ng-model="$ctrl.PersonaAtiendeSitio2">
                    </div>
                  </div>

                  <div class="form-group row ">
                    <label class="col-sm-5 control-label">Teléfono (Para llamada de Whatsapp)</label>
                    <div class="col-sm-7">
                      <input type="text" class="form-control input-sm" name="TelefonoAtiendeSitio2"
                        ng-model="$ctrl.TelefonoAtiendeSitio2" ui-mask="999-999-9999" minlength="10" ui-mask-placeholder
                        ui-mask-placeholder-char="_">
                    </div>
                  </div>

                  <div class="form-group row ">
                    <label class="col-sm-5 control-label">Celular</label>
                    <div class="col-sm-7">
                      <input type="text" class="form-control input-sm" name="CelularAtiendeSitio2"
                        ng-model="$ctrl.CelularAtiendeSitio2" ui-mask="999-999-9999" minlength="10" ui-mask-placeholder
                        ui-mask-placeholder-char="_">
                    </div>
                  </div>

                  <div class="form-group row ">
                    <label class="col-sm-5 control-label">Email</label>
                    <div class="col-sm-7">
                      <input type="email" class="form-control input-sm" name="EmailAtiendeSitio2"
                        ng-model="$ctrl.EmailAtiendeSitio2" validate-on="dirty"
                        invalid-message="'Formato de correo no valido.'">
                    </div>
                  </div>

                </div>

                <div class="col-md-4">


                  <div class="form-group row ">
                    <label class="col-sm-5 control-label">Plataforma satelital:</label>
                    <div class="col-sm-7">
                      <input type="text" class="form-control input-sm" ng-disabled="true" ng-model="$ctrl.plataforma"
                        name="plataforma">
                    </div>
                  </div>

                  <div class="form-group row ">
                    <label class="col-sm-5 control-label">Beam:</label>
                    <div class="col-sm-7">
                      <input type="text" class="form-control input-sm" ng-disabled="true" name="beam"
                        ng-model="$ctrl.beam">
                    </div>
                  </div>

                  <div class="form-group row ">
                    <label class="col-sm-5 control-label">Fecha Activación:</label>
                    <div class="col-sm-7">
                      <!--<input type="text"  class="form-control input-sm" name="fechaactivacion" ng-model="$ctrl.fechaactivacion" ng-disabled="true">-->
                      <input class="form-control input-sm" name="fechaactivacion" ng-model="$ctrl.fechaactivacion"
                        type="date" ng-disabled="true" />
                    </div>
                  </div>

                  <div class="form-group row ">
                    <label class="col-sm-5 control-label">SAN:</label>
                    <div class="col-sm-7">
                      <input type="text" class="form-control input-sm" ng-disabled="true" name="SAN"
                        ng-model="$ctrl.SAN">
                    </div>
                  </div>


                  <div class="form-group row ">
                    <label class="col-sm-5 control-label">Latitud:</label>
                    <div class="col-sm-7">
                      <input type="text" class="form-control input-sm" ng-pattern="/^-?[0-9]+(\.[0-9]{1,6})?$/"
                        validate-on="dirty" required invalid-message="'La latitud no es valida'"
                        required-message="La latitud  es obligatoria" name="latitud" ng-model="$ctrl.latitud">
                    </div>
                  </div>
                  <div class="form-group row ">
                    <label class="col-sm-5 control-label">Longitud:</label>
                    <div class="col-sm-7">
                      <input type="text" class="form-control input-sm" ng-pattern="/^-?[0-9]+(\.[0-9]{1,6})?$/"
                        validate-on="dirty" required invalid-message="'La longitud no es valida'"
                        required-message="La longitud  es obligatoria" name="longitud" ng-model="$ctrl.longitud">
                    </div>
                  </div>
                  <div class="form-group row ">
                    <label class="col-sm-5 control-label">Velocidad:</label>
                    <div class="col-sm-7">
                      <input type="text" class="form-control input-sm" name="velocidad" ng-model="$ctrl.velocidad">
                    </div>
                  </div>
                </div>

              </div>


            </uib-tab>
            <uib-tab index="1" heading="Validación en Sitio">
              <br>
              <div class="row">
                <div class="col-md-5">
                  <div class="row">
                    <div class="col-md-10">
                      <div class="form-group row ">
                        <label class="col-sm-5 control-label">Código de Estado</label>
                        <div class="col-sm-7">
                          <input type="text" class="form-control input-sm" ng-disabled="true" name="CodigodeEstado"
                            ng-model="$ctrl.CodigodeEstado">
                        </div>
                      </div>
                      <div class="form-group row ">
                        <label class="col-sm-5 control-label">SQF</label>
                        <div class="col-sm-7">
                          <input type="text" class="form-control input-sm" ng-disabled="true" name="SQFVS"
                            ng-model="$ctrl.SQFVS">
                        </div>
                      </div>
                    </div>
                    <div class="col-md-2">
                      <button type="button" title="Actualizar datos" class="btn ink-reaction btn-xs btn-info"
                        ng-click="$ctrl.ActualizarDatosHughes()"><i class="fa fa-retweet"></i></button>
                    </div>
                  </div>
                  <div class="form-group row ">
                    <label class="col-sm-5 control-label">Transmit Rate</label>
                    <div class="col-sm-7">
                      <input type="text" class="form-control input-sm" name="TransmitRate"
                        ng-model="$ctrl.TransmitRate">
                    </div>
                  </div>
                  <div class="form-group row ">
                    <label class="col-sm-5 control-label">Power Attenuation</label>
                    <div class="col-sm-7">
                      <select
                        ng-options="item as item.Descripcion for item in $ctrl.PowerAttenuations track by item.IdPower"
                        class="form-control input-sm" validate-on="dirty" name="PowerAttenuation"
                        ng-model="$ctrl.PowerAttenuation">
                        <option value="">- selecciona -</option>
                      </select>
                    </div>
                  </div>
                  <div class="form-group row ">
                    <label class="col-sm-5 control-label">Prueba ACP</label>
                    <div class="col-sm-7">
                      <input type="text" class="form-control input-sm" name="PruebaACP" ng-model="$ctrl.PruebaACP">
                    </div>
                  </div>
                </div>
                <div class="col-md-5">
                  <div class="form-group row ">
                    <label class="col-sm-5 control-label">Voltaje Comercial N-T</label>
                    <div class="col-sm-7">
                      <input type="text" class="form-control input-sm" name="N-T"
                        ng-model="$ctrl.VoltajeComercialNT"></textarea>
                    </div>
                  </div>
                  <div class="form-group row ">
                    <label class="col-sm-5 control-label">Voltaje Comercial F-T</label>
                    <div class="col-sm-7">
                      <input type="text" class="form-control input-sm" name="F-T"
                        ng-model="$ctrl.VoltajeComercialFT"></textarea>
                    </div>
                  </div>
                  <div class="form-group row ">
                    <label class="col-sm-5 control-label">Voltaje Comercial F-N</label>
                    <div class="col-sm-7">
                      <input type="text" class="form-control input-sm" name="F-N"
                        ng-model="$ctrl.VoltajeComercialFN"></textarea>
                    </div>
                  </div>
                </div>
                <br>
                <div class="col-md-12">
                  <div class="col-md-6" ng-show="$ctrl.seleccionImagen">
                    <h4 class="text-center text-danger">
                      <i class="fa fa-picture-o"></i> Imágenes</h4>
                    <div class="col-md-6">
                      <p class="text-primary">Selecciona el tipo de imagen</p>
                      <select ng-model="$ctrl.tipoimagenValidacion" class="form-control input-sm"
                        ng-options="item as item.Nombre for item in $ctrl.tiposrespValidacion track by item.IdTipo"
                        ng-model="selected">
                        <option value="">Selecciona el tipo </option>
                      </select>
                    </div>
                    <div class="col-md-6">
                      <br>
                      <div class="fileUpload btn btn-sm btn-primary" ng-show="$ctrl.tipoimagenValidacion">
                        <span>Elegir archivos</span>
                        <input type="file" multiple="multiple" id="file" nv-file-select uploader="$ctrl.uploaderVS"
                          class="upload" />
                      </div>
                    </div>
                    <div class="col-md-12" style="overflow-y: scroll; max-height: 350px;">
                      <table class="table">
                        <thead>
                          <tr>
                            <th width="50%">Elegir</th>
                            <th width="50%">Nombre</th>
                            <th width="50%">Tipo</th>
                            <th width="50%">Preview</th>
                            <th ng-show="uploader.isHTML5">Tamaño</th>
                            <th>Eliminar</th>
                          </tr>
                        </thead>
                        <tbody>
                          <tr ng-repeat="item in $ctrl.uploaderVS.queue">
                            <td>
                              <strong>{{ item.file.name }}</strong>
                            </td>
                            <td>
                              <strong>{{ item.file.tipo }}</strong>
                            </td>
                            <td>
                              <div ng-thumb="{ file: item._file, width: 100, height: 100 }"></div>
                            </td>
                            <td ng-show="$ctrl.uploader.isHTML5" nowrap>{{ item.file.size/1024/1024|number:2 }} MB
                            </td>
                            <td>
                              <button type="button" class="btn btn-danger btn-xs" ng-click="item.remove()">
                                <span class="glyphicon glyphicon-trash"></span> Eliminar
                              </button>
                            </td>
                          </tr>
                        </tbody>
                      </table>
                    </div>
                  </div>
                  <div class="col-md-6  text-center">
                    <h4 class="text-center text-danger">
                      <i class="fa fa-picture-o"></i> Imagenes cargadas</h4>
                    <div class="col-md-12" style="overflow-y: scroll; max-height: 350px;">
                      <table class="table">
                        <thead>

                          <th>Tipo de imagen</th>
                          <th>preview</th>
                        </thead>
                        <tbody>
                          <tr ng-repeat="x in $ctrl.Lista_evidenciasVS">

                            <td>{{x.Tipo_}}</td>
                            <td>

                              <img class="img-thumbnail" ng-click="$ctrl.openLightboxModal($index)"
                                ng-src="{{x.RutaCompleta}}" alt="" style="width: 100px; height: 100px; ">
                            </td>
                            <td>
                              <button type="button" ng-click="$ctrl.BorraImagenVS($index)" ng-disabled="$ctrl.detalle"
                                class="btn btn-xs btn-danger">
                                <i class="fa fa-trash"></i> Eliminar</button>
                            </td>
                          </tr>
                        </tbody>

                      </table>
                    </div>

                  </div>
                </div>
              </div>
            </uib-tab>
            <uib-tab index="2" heading="Trabajos Realizados">
              <br>
              <div class="row" style="padding:30px;">

                <div class="col-md-4 col-md-offset-2">

                  <div class="col-md-6">
                    <div class="row">
                      <label class="checkbox-inline checkbox-styled checkbox-info">
                        <input type="checkbox" ng-disabled="$ctrl.detalle" name="checkints"
                          ng-model="$ctrl.Instalacion">
                        <span>Instalación</span>
                      </label>
                    </div>
                  </div>

                  <div class="col-md-6">
                    <div class="row">
                      <label class="checkbox-inline checkbox-styled checkbox-info">
                        <input type="checkbox" ng-disabled="$ctrl.detalle" name="checkmant"
                          ng-model="$ctrl.Mantenimiento">
                        <span>Mantenimiento</span>
                      </label>
                    </div>
                  </div>

                  <div class="col-md-6">
                    <div class="row">
                      <label class="checkbox-inline checkbox-styled checkbox-info">
                        <input type="checkbox" ng-disabled="$ctrl.detalle" name="checkcambio"
                          ng-model="$ctrl.CambioComponentes">
                        <span>Cambio de componentes</span>
                      </label>
                    </div>
                  </div>

                  <div class="col-md-6">
                    <div class="row">
                      <label class="checkbox-inline checkbox-styled checkbox-info">
                        <input type="checkbox" ng-disabled="$ctrl.detalle" name="checksurvey"
                          ng-model="$ctrl.SiteSurvey">
                        <span>Site Survey</span>
                      </label>
                    </div>
                  </div>

                  <div class="col-md-6">
                    <div class="row">
                      <label class="checkbox-inline checkbox-styled checkbox-info">
                        <input type="checkbox" ng-disabled="$ctrl.detalle" name="checkdemo"
                          ng-model="$ctrl.InstalacionDemo">
                        <span>Instalación Demo/Piloto</span>
                      </label>
                    </div>
                  </div>

                  <div class="col-md-6">
                    <div class="row">
                      <label class="checkbox-inline checkbox-styled checkbox-info">
                        <input type="checkbox" ng-disabled="$ctrl.detalle" name="checkreubi"
                          ng-model="$ctrl.Reubicacion">
                        <span>Reubicación</span>
                      </label>
                    </div>
                  </div>

                  <div class="col-md-6">
                    <div class="row">
                      <label class="checkbox-inline checkbox-styled checkbox-info">
                        <input type="checkbox" ng-disabled="$ctrl.detalle" name="checkapunta"
                          ng-model="$ctrl.Apuntamiento">
                        <span>Apuntamiento</span>
                      </label>
                    </div>
                  </div>

                </div>

                <div class="col-md-4">
                  <p>Detalles:</p>
                  <textarea rows="6" class="form-control input-sm" name="detalleinstalacion"
                    ng-model="$ctrl.detalleinstalacion"
                    placeholder="Redacta brevemente los detalles de la instalación"></textarea>

                </div>
              </div>


            </uib-tab>
            <uib-tab index="3" heading="Mediciones Eléctricas">
              <div class="row">
                <br>
                <div class="col-md-4 col-md-offset-2">
                  <h5 class="text-center text-primary">Voltaje comercial</h5>

                  <div class="form-group row ">
                    <label class="col-sm-3 control-label">Neutro-tierra :</label>
                    <div class="col-sm-9">
                      <input type="text" class="form-control input-sm" name="vcneutrotierra"
                        ng-model="$ctrl.vcneutrotierra">
                    </div>
                  </div>

                  <div class="form-group row ">
                    <label class="col-sm-3 control-label">Fase-tierra :</label>
                    <div class="col-sm-9">
                      <input type="text" class="form-control input-sm" name="vcfasetierra"
                        ng-model="$ctrl.vcfasetierra">
                    </div>
                  </div>

                  <div class="form-group row ">
                    <label class="col-sm-3 control-label">Fase-Neutro :</label>
                    <div class="col-sm-9">
                      <input type="text" class="form-control input-sm" ng-model="$ctrl.vcfaseneutro"
                        name="vcfaseneutro">
                    </div>
                  </div>

                </div>
                <div class="col-md-4">

                  <h5 class="text-center text-primary ">Voltaje UPS/No Break</h5>
                  <p class="text-muted">En caso de no instalar Voltaje Ups/ Nobreak Dejar campo en BLANCO (No capturar)
                  </p>
                  <div class="form-group row ">
                    <label class="col-sm-3 control-label">Neutro-tierra :</label>
                    <div class="col-sm-9">
                      <input type="text" class="form-control input-sm" name="upcneutrotierra"
                        ng-model="$ctrl.upcneutrotierra">

                    </div>
                  </div>

                  <div class="form-group row ">
                    <label class="col-sm-3 control-label">Fase-tierra :</label>
                    <div class="col-sm-9">
                      <input type="text" class="form-control input-sm" ng-model="$ctrl.upcfasetierra"
                        name="upcfasetierra">

                    </div>
                  </div>

                  <div class="form-group row ">
                    <label class="col-sm-3 control-label">Fase-Neutro :</label>
                    <div class="col-sm-9">
                      <input type="text" class="form-control input-sm" name="upcfaseneutro"
                        ng-model="$ctrl.upcfaseneutro">
                    </div>
                  </div>

                </div>


              </div>



            </uib-tab>
            <uib-tab index="4" heading="Desempeño">

              <div class="row" style="padding:30px;">
                <br>


                <div class="col-md-5 col-md-offset-1 ">
                  <div class="form-group row ">
                    <label class="col-sm-3 control-label">Módem (serie) :</label>
                    <div class="col-sm-9">
                      <!--<select ng-options="item as item.Descripcion for item in $ctrl.listModem track by item.Clv_CableModem" class="form-control input-sm"
                        validate-on="dirty" name="modem" ng-model="$ctrl.modem">
                        <option value="">- selecciona aparato -</option>
                      </select>-->
                      <input type="text" class="form-control input-sm" name="modemserie" ng-model="$ctrl.modem"
                        ng-disabled="true">
                    </div>
                  </div>
                  <div class="form-group row ">
                    <label class="col-sm-3 control-label">Antena (serie) :</label>
                    <div class="col-sm-9">
                      <!--<select ng-options="item as item.Descripcion for item in $ctrl.listAntena track by item.Clv_CableModem" class="form-control input-sm"
                        validate-on="dirty" name="antena" ng-model="$ctrl.antena">
                        <option value="">- selecciona aparato -</option>
                      </select>-->
                      <input type="text" class="form-control input-sm" name="antenaserie" ng-model="$ctrl.antena"
                        ng-disabled="true">
                    </div>
                  </div>

                  <div class="form-group row ">
                    <label class="col-sm-3 control-label">Tamaño de antena :</label>
                    <div class="col-sm-9">
                      <input type="text" class="form-control input-sm" name="tamanoantena" ng-model="$ctrl.tamanoantena"
                        ng-disabled="true">
                    </div>
                  </div>

                  <div class="form-group row ">
                    <label class="col-sm-3 control-label">Valor de SQF Instalación :</label>
                    <div class="col-sm-9">
                      <input type="text" class="form-control input-sm" name="sqfinstalacion"
                        ng-model="$ctrl.SQFInstalacion" ng-disabled="true">
                    </div>
                  </div>
                  <div class="form-group row ">
                    <label class="col-sm-3 control-label">Valor de SQF Visita :</label>
                    <div class="col-sm-9">
                      <input type="text" class="form-control input-sm" name="sqf" ng-model="$ctrl.sqf">
                    </div>
                  </div>



                </div>

                <div class="col-md-5">
                  <div class="form-group row ">
                    <label class="col-sm-3 control-label">UPS(serie) :</label>
                    <div class="col-sm-9">

                      <!--<select ng-options="item as item.Descripcion for item in $ctrl.listUPS track by item.Clv_CableModem" class="form-control input-sm"
                        validate-on="dirty" name="upsserie" ng-model="$ctrl.upsserie">
                        <option value="">- Selecciona aparato -</option>
                      </select>
                      <p class="text-muted">En caso de no instalar UPS selecciona opción: Equipo no requerido</p>-->
                      <input type="text" class="form-control input-sm" name="upsserie" ng-model="$ctrl.upsserie"
                        ng-disabled="true">
                    </div>
                  </div>


                  <div class="form-group row ">
                    <label class="col-sm-3 control-label">Serie de Radio :</label>
                    <div class="col-sm-9">
                      <!--<select class="form-control input-sm" ng-options="item as item.Descripcion for item in $ctrl.listRadio track by item.Clv_CableModem"
                        validate-on="dirty" ng-model="$ctrl.serieradio" name="serieradio">
                        <option value="">- Selecciona aparato -</option>
                      </select>
                      <p class="text-muted"> Agregar los últimos 10 dígitos del número de serie (validar que no existan Letras)</p>-->
                      <input type="text" class="form-control input-sm" name="serieradio" ng-model="$ctrl.serieradio"
                        ng-disabled="true">

                    </div>
                  </div>

                  <div class="form-group row ">
                    <label class="col-sm-3 control-label">Serie de router :</label>
                    <div class="col-sm-9">
                      <!--<select class="form-control input-sm" ng-options="item as item.Descripcion for item in $ctrl.listRouter track by item.Clv_CableModem"
                        ng-model="$ctrl.serierouter" name="serierouter">
                        <option value="">- Selecciona aparato -</option>
                      </select>
                      <p class="text-muted"> Si no se instaló Router de nuestro almacén , escoger Equipo No requerido</p>-->
                      <input type="text" class="form-control input-sm" name="routerserie" ng-model="$ctrl.serierouter"
                        ng-disabled="true">

                    </div>
                  </div>

                  <div class="form-group row ">
                    <label class="col-sm-3 control-label">Marca Router :</label>
                    <div class="col-sm-9">
                      <input type="text" class="form-control input-sm" name="marcarouter" ng-model="$ctrl.marcarouter"
                        ng-disabled="true">

                    </div>
                  </div>

                  <!--   <div class="form-group row ">
                    <label class="col-sm-3 control-label">WiFi (serie) :</label>
                    <div class="col-sm-9">
                      <input type="text" class="form-control input-sm" name="wifiserie" ng-model="$ctrl.wifiserie">
                    </div>
                  </div> -->

                </div>


              </div>

            </uib-tab>

            <uib-tab index="5" heading="Cambio de Equipos" ng-if="$ctrl.CambioDeEquipos">
              <br>
              <div class="col-md-12">

                <div class="col-md-8 col-md-offset-2" style="padding: 10px;">
                  <div class="col-md-4">
                    <div class="col-md-12">
                      Equipo a surtir
                      <select class="form-control input-sm"
                        ng-options="item as item.Nombre for item in $ctrl.EquiposSustituir track by item.IdEquipo"
                        ng-model="$ctrl.EquipoSustituir" name="EquipoSustituir" ng-change="$ctrl.detalleTecnico()">
                        <option value="">- Selecciona equipo -</option>
                      </select>
                      <!--<input type="text" class="form-control" name="equiposurtir" ng-model="$ctrl.equiposurtir">-->
                    </div>
                    <div class="col-md-12">
                      Serie Anterior
                      <!--<input type="text" class="form-control" name="serieanterior" ng-model="$ctrl.serieanterior">-->
                      <select class="form-control input-sm"
                        ng-options="item as item.Descripcion for item in $ctrl.AparatosAnterior track by item.Clv_CableModem"
                        ng-model="$ctrl.AparatoAnterior" name="EquipoSustituirAnterior">
                        <option value="">- Selecciona aparato -</option>
                      </select>
                    </div>
                    <div class="col-md-12">
                      Serie Nueva
                      <!--<input type="text" class="form-control " ng-model="$ctrl.serienueva" name="serienueva">-->
                      <select class="form-control input-sm"
                        ng-options="item as item.Descripcion for item in $ctrl.AparatosNuevo track by item.Clv_CableModem"
                        ng-model="$ctrl.AparatoNuevo" name="EquipoSustituirNuevo">
                        <option value="">- Selecciona aparato -</option>
                      </select>
                    </div>
                    <div class="col-md-12">
                      <br>
                      <button type="button" class="btn btn-success btn-sm" ng-disabled="$ctrl.detalle"
                        ng-click="$ctrl.cambioAparato()">Agregar</button>
                    </div>

                  </div>
                  <div class="col-md-8">
                    <h5 class="text-primary text-center">Aparatos Agregados</h5>
                    <div class="col-md-12">
                      <table class="table">
                        <thead>
                          <th>Modelo</th>
                          <th>Serie anterior</th>
                          <th>Serie nueva</th>
                          <th>Opciones</th>
                        </thead>
                        <tbody>
                          <tr ng-repeat="s in $ctrl.cambios">
                            <td>{{s.Equipo}}</td>
                            <td>{{s.SerieAnterior}}</td>
                            <td>{{s.SerieNueva}}</td>
                            <td>
                              <button type="button" ng-disabled="$ctrl.detalle" class="btn btn-danger btn-xs"
                                ng-click="$ctrl.eliminaaparato($index)">
                                <i class="fa fa-trash"></i> Eliminar</button>
                            </td>
                          </tr>
                        </tbody>
                      </table>

                    </div>
                  </div>



                </div>

              </div>

            </uib-tab>

            <uib-tab ng-if="$ctrl.Combo==true" index="6" heading="Equipos Digitales">
              <br>
              <div class="col-md-8 col-md-offset-2" style="padding: 10px;">

                <div class="col-md-6">
                  <h5 class="text-primary text-center">Selecciona el aparato</h5>
                  <div class="col-md-12">
                    <select class="form-control" ng-model="$ctrl.DTH" name="dth"
                      ng-options="item as item.Descripcion for item in $ctrl.listSTB track by item.Clv_CableModem">
                      <option value="selecciona"></option>
                    </select>
                    <p class="text-muted">puedes agregar como max.3 aparatos</p>
                  </div>
                  <div class="col-md-12 text-center">
                    <br>
                    <button type="button" class="btn btn-success btn-sm" ng-disabled="$ctrl.detalle"
                      ng-click="$ctrl.addAparatodig()">Agregar
                      stb</button>
                  </div>
                </div>
                <div class="col-md-6">
                  <h5 class="text-primary text-center">Aparatos Agregados</h5>
                  <ul class="list divider-full-bleed">
                    <li class="tile" ng-repeat="x in $ctrl.aparatosdigitales">
                      <a class="tile-content ink-reaction">
                        <div class="tile-icon">
                          <img src="../../assets/img/avatar2.jpg?1404026449" alt="">
                        </div>
                        <div class="tile-text">
                          <b class="text-info">{{x.paquete}}</b>
                          <br>{{x.Equipo}} | {{x.SerieAnterior}}</div>
                      </a>
                      <a class="btn btn-flat ink-reaction" ng-click="$ctrl.eliminaaparatodig($index);">
                        <i class="fa fa-trash"></i>
                      </a>
                    </li>

                  </ul>

                </div>



              </div>

            </uib-tab>


            <uib-tab index="7" heading="Carga de Imagenes">
              <br>
              <div class="col-md-12">
                <div class="col-md-6" ng-show="$ctrl.seleccionImagen">
                  <h4 class="text-center text-danger">
                    <i class="fa fa-picture-o"></i> Subir Imagenes</h4>
                  <div class="col-md-6">
                    <p class="text-primary">Selecciona el tipo de imagen</p>
                    <select ng-model="$ctrl.tipoimagen" name="tipoimagen" class="form-control input-sm"
                      ng-options="item as item.Nombre for item in $ctrl.tiposresp track by item.IdTipo"
                      ng-model="selected">
                      <option value="">Selecciona el tipo </option>
                    </select>
                  </div>

                  <div class="col-md-6">
                    <br>
                    <div class="fileUpload btn btn-sm btn-primary" ng-show="$ctrl.tipoimagen">
                      <span>Elegir archivos</span>
                      <input type="file" multiple="multiple" name="elegirarchivo" id="file" nv-file-select
                        uploader="$ctrl.uploader" class="upload" />
                    </div>


                  </div>
                  <div class="col-md-12" style="overflow-y: scroll; max-height: 350px;">
                    <table class="table">
                      <thead>
                        <tr>
                          <th width="50%">Elegir</th>
                          <th width="50%">Nombre</th>
                          <th width="50%">Tipo</th>
                          <th width="50%">Preview</th>
                          <th ng-show="uploader.isHTML5">Tamaño</th>
                          <th>Eliminar</th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr ng-repeat="item in $ctrl.uploader.queue">
                          <td>
                            <strong>{{ item.file.name }}</strong>
                          </td>
                          <td>
                            <strong>{{ item.file.tipo }}</strong>
                          </td>
                          <td>
                            <div ng-thumb="{ file: item._file, width: 100, height: 100 }"></div>
                          </td>
                          <td ng-show="$ctrl.uploader.isHTML5" nowrap>{{ item.file.size/1024/1024|number:2 }} MB
                          </td>
                          <td>

                            <button type="button" class="btn btn-danger btn-xs" ng-click="item.remove()">
                              <span class="glyphicon glyphicon-trash"></span> Eliminar
                            </button>
                          </td>



                        </tr>
                      </tbody>
                    </table>
                  </div>




                </div>
                <div class="col-md-6  text-center">
                  <h4 class="text-center text-danger">
                    <i class="fa fa-picture-o"></i> Imagenes cargadas</h4>
                  <div class="col-md-12" style="overflow-y: scroll; max-height: 350px;">
                    <table class="table">
                      <thead>

                        <th>Tipo de imagen</th>
                        <th>preview</th>
                      </thead>
                      <tbody>
                        <tr ng-repeat="x in $ctrl.Lista_evidencias">

                          <td>{{x.Tipo_}}</td>
                          <td>

                            <img class="img-thumbnail" ng-click="$ctrl.openLightboxModal($index)"
                              ng-src="{{x.RutaCompleta}}" alt="" style="width: 100px; height: 100px; ">
                          </td>
                          <td>
                            <button type="button" ng-click="$ctrl.BorraImagen($index)" ng-disabled="$ctrl.detalle"
                              class="btn btn-xs btn-danger">
                              <i class="fa fa-trash"></i> Eliminar</button>
                          </td>
                        </tr>
                      </tbody>

                    </table>
                  </div>

                </div>
              </div>

            </uib-tab>
            <uib-tab index="8" heading="">
              <uib-tab-heading> Notas
                <span class="badge pull-right">{{$ctrl.notas.length+$ctrl.notas_ant.length}}</span>
              </uib-tab-heading>
              <div class="col-md-12" style="padding:30px;">
                <div class="col-md-5">
                  <p class="text-primary">Agrega Nota: </p>
                  <textarea placeholder="Agrega aqui el contenido de la nota....." name="notas" class="form-control"
                    ng-model="$ctrl.detallenota" rows="3">



                  </textarea>

                  <button class="btn btn-info btn-sm" type="button" ng-click="$ctrl.guardaNota()">
                    <i class="fa fa-save"></i> agregar</button>
                </div>
                <div class="col-md-7" style="overflow-y: scroll; max-height: 400px;">

                  <div class="tab-pane" id="activity">
                    <ul class="timeline collapse-lg timeline-hairline">
                      <li class="timeline-inverted" ng-repeat="x in $ctrl.notas">
                        <div class="timeline-circ circ-xl style-primary">
                          <i class="md md-event"></i>
                        </div>
                        <div class="timeline-entry">
                          <div class="card style-default-light">
                            <div class="card-body small-padding">
                              <!-- <div class="col-md-8">

                               </div>
                               <div class="col-md-4"></div>-->
                              <p>
                                <em>{{x.Observacion}}</em>
                              </p>
                              <span class="text-medium">Nota de
                                <span class="text-primary">{{x.Nombre}}</span>
                              </span>
                              <br>
                              <span class="opacity-50">
                                {{x.Fecha}}
                              </span>
                              <button type="button" class="btn btn-danger btn-xs" ng-click="$ctrl.eliminaNota($index)">
                                <i class="fa fa-trash"></i>Eliminar nota</button>
                            </div>

                          </div>
                        </div>
                        <!--end .timeline-entry -->
                      </li>

                      <li class="timeline-inverted" ng-repeat="x in $ctrl.notas_ant">
                        <div class="timeline-circ circ-xl style-primary">
                          <i class="md md-event"></i>
                        </div>
                        <div class="timeline-entry">
                          <div class="card style-default-light">
                            <div class="card-body small-padding">
                              <p>
                                <em>{{x.Observacion}}</em>
                              </p>
                              <span class="text-medium">Nota de
                                <span class="text-primary">{{x.Nombre}}</span>
                              </span>
                              <br>
                              <span class="opacity-50">
                                {{x.Fecha}}
                              </span>
                            </div>
                          </div>
                        </div>
                        <!--end .timeline-entry -->
                      </li>

                    </ul>
                  </div>
                </div>


              </div>
            </uib-tab>
          </uib-tabset>
        </div>

      </div>
    </fieldset>
  </div>
</form>